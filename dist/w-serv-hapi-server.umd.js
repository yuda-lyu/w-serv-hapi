/*!
 * w-serv-hapi-server v1.0.24
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@hapi/hapi"),require("@hapi/inert"),require("fs"),require("stream"),require("worker_threads")):"function"==typeof define&&define.amd?define(["@hapi/hapi","@hapi/inert","fs","stream","worker_threads"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-serv-hapi-server"]=e(t["@hapi/hapi"],t["@hapi/inert"],t.fs,t.stream,t.require$$0)}(this,(function(t,e,n,r,o){"use strict";var i=Array.isArray,a="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,c=a||u||Function("return this")(),s=c.Symbol,l=Object.prototype,f=l.hasOwnProperty,g=l.toString,p=s?s.toStringTag:void 0;var h=Object.prototype.toString;var d="[object Null]",I="[object Undefined]",C=s?s.toStringTag:void 0;function v(t){return null==t?void 0===t?I:d:C&&C in Object(t)?function(t){var e=f.call(t,p),n=t[p];try{t[p]=void 0;var r=!0}catch(t){}var o=g.call(t);return r&&(e?t[p]=n:delete t[p]),o}(t):function(t){return h.call(t)}(t)}function y(t){return null!=t&&"object"==typeof t}var A="[object Symbol]";function b(t){return"symbol"==typeof t||y(t)&&v(t)==A}var m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w=/^\w*$/;function j(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!b(t))||(w.test(t)||!m.test(t)||null!=e&&t in Object(e))}function Z(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var _="[object AsyncFunction]",S="[object Function]",x="[object GeneratorFunction]",G="[object Proxy]";function K(t){if(!Z(t))return!1;var e=v(t);return e==S||e==x||e==_||e==G}var O,W=c["__core-js_shared__"],B=(O=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"";var T=Function.prototype.toString;function k(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var X=/^\[object .+?Constructor\]$/,N=Function.prototype,V=Object.prototype,Y=N.toString,L=V.hasOwnProperty,U=RegExp("^"+Y.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H(t){return!(!Z(t)||(e=t,B&&B in e))&&(K(t)?U:X).test(k(t));var e}function J(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return H(n)?n:void 0}var $=J(Object,"create");var R=Object.prototype.hasOwnProperty;var z=Object.prototype.hasOwnProperty;function F(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function M(t,e){return t===e||t!=t&&e!=e}function E(t,e){for(var n=t.length;n--;)if(M(t[n][0],e))return n;return-1}F.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},F.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},F.prototype.get=function(t){var e=this.__data__;if($){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return R.call(e,t)?e[t]:void 0},F.prototype.has=function(t){var e=this.__data__;return $?void 0!==e[t]:z.call(e,t)},F.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$&&void 0===e?"__lodash_hash_undefined__":e,this};var P=Array.prototype.splice;function D(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}D.prototype.clear=function(){this.__data__=[],this.size=0},D.prototype.delete=function(t){var e=this.__data__,n=E(e,t);return!(n<0)&&(n==e.length-1?e.pop():P.call(e,n,1),--this.size,!0)},D.prototype.get=function(t){var e=this.__data__,n=E(e,t);return n<0?void 0:e[n][1]},D.prototype.has=function(t){return E(this.__data__,t)>-1},D.prototype.set=function(t,e){var n=this.__data__,r=E(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Q=J(c,"Map");function q(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tt.prototype.clear=function(){this.size=0,this.__data__={hash:new F,map:new(Q||D),string:new F}},tt.prototype.delete=function(t){var e=q(this,t).delete(t);return this.size-=e?1:0,e},tt.prototype.get=function(t){return q(this,t).get(t)},tt.prototype.has=function(t){return q(this,t).has(t)},tt.prototype.set=function(t,e){var n=q(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var et="Expected a function";function nt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(et);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(nt.Cache||tt),n}nt.Cache=tt;var rt,ot,it,at=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ut=/\\(\\)?/g,ct=(rt=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(at,(function(t,n,r,o){e.push(r?o.replace(ut,"$1"):n||t)})),e},ot=nt(rt,(function(t){return 500===it.size&&it.clear(),t})),it=ot.cache,ot),st=ct;function lt(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var ft=1/0,gt=s?s.prototype:void 0,pt=gt?gt.toString:void 0;function ht(t){if("string"==typeof t)return t;if(i(t))return lt(t,ht)+"";if(b(t))return pt?pt.call(t):"";var e=t+"";return"0"==e&&1/t==-ft?"-0":e}function dt(t){return null==t?"":ht(t)}function It(t,e){return i(t)?t:j(t,e)?[t]:st(dt(t))}var Ct=1/0;function vt(t){if("string"==typeof t||b(t))return t;var e=t+"";return"0"==e&&1/t==-Ct?"-0":e}function yt(t,e){for(var n=0,r=(e=It(e,t)).length;null!=t&&n<r;)t=t[vt(e[n++])];return n&&n==r?t:void 0}function At(t,e,n){var r=null==t?void 0:yt(t,e);return void 0===r?n:r}var bt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},mt={};!function(t,e){t.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",u="day",c="week",s="month",l="quarter",f="year",g="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},C=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:C,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+C(r,2,"0")+":"+C(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,s),i=n-o<0,a=e.clone().add(r+(i?-1:1),s);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:f,w:c,d:u,D:g,h:a,m:i,s:o,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",A={};A[y]=I;var b="$isDayjsObject",m=function(t){return t instanceof _||!(!t||!t[b])},w=function t(e,n,r){var o;if(!e)return y;if("string"==typeof e){var i=e.toLowerCase();A[i]&&(o=i),n&&(A[i]=n,o=i);var a=e.split("-");if(!o&&a.length>1)return t(a[0])}else{var u=e.name;A[u]=e,o=u}return!r&&o&&(y=o),o||!r&&y},j=function(t,e){if(m(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},Z=v;Z.l=w,Z.i=m,Z.w=function(t,e){return j(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function I(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[b]=!0}var C=I.prototype;return C.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(Z.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.init()},C.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},C.$utils=function(){return Z},C.isValid=function(){return!(this.$d.toString()===p)},C.isSame=function(t,e){var n=j(t);return this.startOf(e)<=n&&n<=this.endOf(e)},C.isAfter=function(t,e){return j(t)<this.startOf(e)},C.isBefore=function(t,e){return this.endOf(e)<j(t)},C.$g=function(t,e,n){return Z.u(t)?this[e]:this.set(n,t)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(t,e){var n=this,r=!!Z.u(e)||e,l=Z.p(t),p=function(t,e){var o=Z.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?o:o.endOf(u)},h=function(t,e){return Z.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},d=this.$W,I=this.$M,C=this.$D,v="set"+(this.$u?"UTC":"");switch(l){case f:return r?p(1,0):p(31,11);case s:return r?p(1,I):p(0,I+1);case c:var y=this.$locale().weekStart||0,A=(d<y?d+7:d)-y;return p(r?C-A:C+(6-A),I);case u:case g:return h(v+"Hours",0);case a:return h(v+"Minutes",1);case i:return h(v+"Seconds",2);case o:return h(v+"Milliseconds",3);default:return this.clone()}},C.endOf=function(t){return this.startOf(t,!1)},C.$set=function(t,e){var n,c=Z.p(t),l="set"+(this.$u?"UTC":""),p=(n={},n[u]=l+"Date",n[g]=l+"Date",n[s]=l+"Month",n[f]=l+"FullYear",n[a]=l+"Hours",n[i]=l+"Minutes",n[o]=l+"Seconds",n[r]=l+"Milliseconds",n)[c],h=c===u?this.$D+(e-this.$W):e;if(c===s||c===f){var d=this.clone().set(g,1);d.$d[p](h),d.init(),this.$d=d.set(g,Math.min(this.$D,d.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},C.set=function(t,e){return this.clone().$set(t,e)},C.get=function(t){return this[Z.p(t)]()},C.add=function(r,l){var g,p=this;r=Number(r);var h=Z.p(l),d=function(t){var e=j(p);return Z.w(e.date(e.date()+Math.round(t*r)),p)};if(h===s)return this.set(s,this.$M+r);if(h===f)return this.set(f,this.$y+r);if(h===u)return d(1);if(h===c)return d(7);var I=(g={},g[i]=e,g[a]=n,g[o]=t,g)[h]||1,C=this.$d.getTime()+r*I;return Z.w(C,this)},C.subtract=function(t,e){return this.add(-1*t,e)},C.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=t||"YYYY-MM-DDTHH:mm:ssZ",o=Z.z(this),i=this.$H,a=this.$m,u=this.$M,c=n.weekdays,s=n.months,l=n.meridiem,f=function(t,n,o,i){return t&&(t[n]||t(e,r))||o[n].slice(0,i)},g=function(t){return Z.s(i%12||12,t,"0")},h=l||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(d,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return Z.s(e.$y,4,"0");case"M":return u+1;case"MM":return Z.s(u+1,2,"0");case"MMM":return f(n.monthsShort,u,s,3);case"MMMM":return f(s,u);case"D":return e.$D;case"DD":return Z.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return f(n.weekdaysMin,e.$W,c,2);case"ddd":return f(n.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(i);case"HH":return Z.s(i,2,"0");case"h":return g(1);case"hh":return g(2);case"a":return h(i,a,!0);case"A":return h(i,a,!1);case"m":return String(a);case"mm":return Z.s(a,2,"0");case"s":return String(e.$s);case"ss":return Z.s(e.$s,2,"0");case"SSS":return Z.s(e.$ms,3,"0");case"Z":return o}return null}(t)||o.replace(":","")}))},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(r,g,p){var h,d=this,I=Z.p(g),C=j(r),v=(C.utcOffset()-this.utcOffset())*e,y=this-C,A=function(){return Z.m(d,C)};switch(I){case f:h=A()/12;break;case s:h=A();break;case l:h=A()/3;break;case c:h=(y-v)/6048e5;break;case u:h=(y-v)/864e5;break;case a:h=y/n;break;case i:h=y/e;break;case o:h=y/t;break;default:h=y}return p?h:Z.a(h)},C.daysInMonth=function(){return this.endOf(s).$D},C.$locale=function(){return A[this.$L]},C.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},C.clone=function(){return Z.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},I}(),S=_.prototype;return j.prototype=S,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",u],["$M",s],["$y",f],["$D",g]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),j.extend=function(t,e){return t.$i||(t(e,_,j),t.$i=!0),j},j.locale=w,j.isDayjs=m,j.unix=function(t){return j(1e3*t)},j.en=A[y],j.Ls=A,j.p={},j}()}({get exports(){return mt},set exports(t){mt=t}});var wt=mt;function jt(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function Zt(){if(!jt(wt))throw new Error("invalid dayjs");return wt().format("YYYY-MM-DDTHH:mm:ssZ")}var _t=/\s/;var St=/^\s+/;function xt(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&_t.test(t.charAt(e)););return e}(t)+1).replace(St,""):t}var Gt=NaN,Kt=/^[-+]0x[0-9a-f]+$/i,Ot=/^0b[01]+$/i,Wt=/^0o[0-7]+$/i,Bt=parseInt;function Tt(t){if("number"==typeof t)return t;if(b(t))return Gt;if(Z(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Z(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=xt(t);var n=Ot.test(t);return n||Wt.test(t)?Bt(t.slice(2),n?2:8):Kt.test(t)?Gt:+t}var kt=1/0,Xt=17976931348623157e292;function Nt(t){return t?(t=Tt(t))===kt||t===-kt?(t<0?-1:1)*Xt:t==t?t:0:0===t?t:0}function Vt(t){var e=Nt(t),n=e%1;return e==e?n?e-n:e:0}function Yt(t){return"[object String]"===Object.prototype.toString.call(t)}function Lt(t){return!(!Yt(t)||""===t)}function Ut(t){return t!=t}function Ht(t){let e=!1;if(Lt(t))e=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(Ut(t))return!1;e=!0}return e}function Jt(t){if(!Ht(t))return 0;return Nt(t)}function $t(t){return!!Ht(t)&&(t=Jt(t),"number"==typeof(e=t)&&e==Vt(e));var e}var Rt=c.isFinite,zt=Math.min;var Ft=function(t){var e=Math[t];return function(t,n){if(t=Tt(t),(n=null==n?0:zt(Vt(n),292))&&Rt(t)){var r=(dt(t)+"e").split("e");return+((r=(dt(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}("round"),Mt=Ft;function Et(t){if(!Ht(t))return 0;t=Jt(t);let e=Mt(t);return"0"===String(e)?0:e}function Pt(t){if(!$t(t))return!1;return Et(t)>0}let Dt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Qt=Dt.length;function qt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=[];t=Pt(t)?Et(t):32;for(let n=0;n<t;n++)e[n]=Dt[0|Math.random()*Qt];return e.join("")}function te(t){return"[object Array]"===Object.prototype.toString.call(t)}function ee(t){return"[object Undefined]"===Object.prototype.toString.call(t)}function ne(t){return"[object Object]"===Object.prototype.toString.call(t)}function re(t){if(ne(t)){for(let e in t)return!1;return!0}return!1}function oe(t){return!!ee(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!re(t)||(!!function(t){return!(!Yt(t)||""!==t)}(t)||(!!function(t){return!!te(t)&&0===t.length}(t)||!!Ut(t)))))}function ie(t){return!!te(t)&&(0!==t.length&&(1!==t.length||!oe(t[0])))}var ae="[object Boolean]";function ue(t){return!0===(e=t)||!1===e||y(e)&&v(e)==ae;var e}var ce={};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var u=new o(r,i||t,a),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],u]:t._events[c].push(u):(t._events[c]=u,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,o,i,a){var u=n?n+t:t;if(!this._events[u])return!1;var c,s,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,a),!0}for(s=1,c=new Array(f-1);s<f;s++)c[s-1]=arguments[s];l.fn.apply(l.context,c)}else{var g,p=l.length;for(s=0;s<p;s++)switch(l[s].once&&this.removeListener(t,l[s].fn,void 0,!0),f){case 1:l[s].fn.call(l[s].context);break;case 2:l[s].fn.call(l[s].context,e);break;case 3:l[s].fn.call(l[s].context,e,r);break;case 4:l[s].fn.call(l[s].context,e,r,o);break;default:if(!c)for(g=1,c=new Array(f-1);g<f;g++)c[g-1]=arguments[g];l[s].fn.apply(l[s].context,c)}}return!0},u.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var u=this._events[i];if(u.fn)u.fn!==e||o&&!u.once||r&&u.context!==r||a(this,i);else{for(var c=0,s=[],l=u.length;c<l;c++)(u[c].fn!==e||o&&!u[c].once||r&&u[c].context!==r)&&s.push(u[c]);s.length?this._events[i]=1===s.length?s[0]:s:a(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}({get exports(){return ce},set exports(t){ce=t}});var se=ce;function le(){return new se}function fe(){let t,e,n=new Promise((function(){t=arguments[0],e=arguments[1]}));return n.resolve=t,n.reject=e,n}function ge(t){let e,n=Object.prototype.toString.call(t);if(e="[object Promise]"===n,e)return!0;if("[object Function]"!==n)return!1;try{e="function"!=typeof t.subscribe&&"function"==typeof t.then}catch(t){}return e}async function pe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=fe();if(!jt(t))return r.reject("waitfunction需輸入函數f"),r;let o=async()=>{let e=t();return ge(e)&&(e=await e),e};if(n=await o(),!0===n)return r.resolve(),r;let i=At(e,"attemptNum",null);Pt(i)||(i=200);let a=At(e,"timeInterval",null);Pt(a)||(a=1e3);let u=0,c=setInterval((async()=>{u+=1,n=await o(),!0===n&&(clearInterval(c),r.resolve()),u>i&&(clearInterval(c),r.reject(`exceeded attemptNum[${i}]`))}),a);return r}function he(t){if(ne(t)){for(let e in t)return!0;return!1}return!1}function de(t){if(!$t(t))return!1;return Et(t)>=0}function Ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var Ce,ve=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var u=i[Ce?a:++r];if(!1===e(o[u],u,o))break}return t};function ye(t){return y(t)&&"[object Arguments]"==v(t)}var Ae=Object.prototype,be=Ae.hasOwnProperty,me=Ae.propertyIsEnumerable,we=ye(function(){return arguments}())?ye:function(t){return y(t)&&be.call(t,"callee")&&!me.call(t,"callee")},je=we;var Ze="object"==typeof exports&&exports&&!exports.nodeType&&exports,_e=Ze&&"object"==typeof module&&module&&!module.nodeType&&module,Se=_e&&_e.exports===Ze?c.Buffer:void 0,xe=(Se?Se.isBuffer:void 0)||function(){return!1},Ge=9007199254740991,Ke=/^(?:0|[1-9]\d*)$/;function Oe(t,e){var n=typeof t;return!!(e=null==e?Ge:e)&&("number"==n||"symbol"!=n&&Ke.test(t))&&t>-1&&t%1==0&&t<e}var We=9007199254740991;function Be(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=We}var Te={};function ke(t){return function(e){return t(e)}}Te["[object Float32Array]"]=Te["[object Float64Array]"]=Te["[object Int8Array]"]=Te["[object Int16Array]"]=Te["[object Int32Array]"]=Te["[object Uint8Array]"]=Te["[object Uint8ClampedArray]"]=Te["[object Uint16Array]"]=Te["[object Uint32Array]"]=!0,Te["[object Arguments]"]=Te["[object Array]"]=Te["[object ArrayBuffer]"]=Te["[object Boolean]"]=Te["[object DataView]"]=Te["[object Date]"]=Te["[object Error]"]=Te["[object Function]"]=Te["[object Map]"]=Te["[object Number]"]=Te["[object Object]"]=Te["[object RegExp]"]=Te["[object Set]"]=Te["[object String]"]=Te["[object WeakMap]"]=!1;var Xe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ne=Xe&&"object"==typeof module&&module&&!module.nodeType&&module,Ve=Ne&&Ne.exports===Xe&&a.process,Ye=function(){try{var t=Ne&&Ne.require&&Ne.require("util").types;return t||Ve&&Ve.binding&&Ve.binding("util")}catch(t){}}(),Le=Ye&&Ye.isTypedArray,Ue=Le?ke(Le):function(t){return y(t)&&Be(t.length)&&!!Te[v(t)]},He=Object.prototype.hasOwnProperty;function Je(t,e){var n=i(t),r=!n&&je(t),o=!n&&!r&&xe(t),a=!n&&!r&&!o&&Ue(t),u=n||r||o||a,c=u?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=c.length;for(var l in t)!e&&!He.call(t,l)||u&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Oe(l,s))||c.push(l);return c}var $e=Object.prototype;function Re(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||$e)}function ze(t,e){return function(n){return t(e(n))}}var Fe=ze(Object.keys,Object),Me=Object.prototype.hasOwnProperty;function Ee(t){if(!Re(t))return Fe(t);var e=[];for(var n in Object(t))Me.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Pe(t){return null!=t&&Be(t.length)&&!K(t)}function De(t){return Pe(t)?Je(t):Ee(t)}var Qe=function(t,e){return function(n,r){if(null==n)return n;if(!Pe(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(t,e){return t&&ve(t,e,De)})),qe=Qe;function tn(t){return t}function en(t,e){var n;return(i(t)?Ie:qe)(t,"function"==typeof(n=e)?n:tn)}function nn(t){return"[object ArrayBuffer]"===Object.prototype.toString.call(t)}function rn(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)}function on(t){return"[object Uint16Array]"===Object.prototype.toString.call(t)}function an(t){if(!(nn(t)||(e=t,"[object Blob]"===Object.prototype.toString.call(e))||rn(t)||on(t)))return null;var e;try{if(t.byteLength)return t.byteLength}catch(t){}try{if(t.length)return t.length}catch(t){}try{if(t.size)return t.size}catch(t){}return null}var un=ze(Object.getPrototypeOf,Object),cn="[object Object]",sn=Function.prototype,ln=Object.prototype,fn=sn.toString,gn=ln.hasOwnProperty,pn=fn.call(Object);function hn(t){if(!y(t)||v(t)!=cn)return!1;var e=un(t);if(null===e)return!0;var n=gn.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&fn.call(n)==pn}var dn="[object DOMException]",In="[object Error]";function Cn(t){if(!ne(t))return{results:"",binarys:[]};if(re(t))return{results:"",binarys:[]};let e="",n=[];try{let r=-1;e=JSON.stringify(t,(function(t,e){if(rn(e)){r+=1;let t=`[Uint8Array]::${r}`;return n.push(e),t}if(on(e)){r+=1;let t=`[Uint16Array]::${r}`;return n.push(e),t}if(nn(e)){r+=1;let t=`[ArrayBuffer]::${r}`;return n.push(e),t}return function(t){if(!y(t))return!1;var e=v(t);return e==In||e==dn||"string"==typeof t.message&&"string"==typeof t.name&&!hn(t)}(e)&&(e=e.toString()),e}))}catch(t){}return{results:e,binarys:n}}var vn={};var yn,An={},bn={get exports(){return An},set exports(t){An=t}};function mn(){return yn||(yn=1,function(t,e){var n;t.exports=(n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==bt&&bt.crypto&&(n=bt.crypto),!n)try{n=require("crypto")}catch(t){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),i={},a=i.lib={},u=a.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=u.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,o=t.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;e[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var u=0;u<o;u+=4)e[r+u>>>2]=n[u>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(r());return new c.init(e,t)}}),s=i.enc={},l=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new c.init(n,e/2)}},f=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new c.init(n,e)}},g=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},p=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=g.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,o=r.words,i=r.sigBytes,a=this.blockSize,u=i/(4*a),s=(u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0))*a,l=t.min(4*s,i);if(s){for(var f=0;f<s;f+=a)this._doProcessBlock(o,f);n=o.splice(0,s),r.sigBytes-=l}return new c.init(n,l)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});a.Hasher=p.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}});var h=i.algo={};return i}(Math),n)}(bn)),An}!function(t,e){t.exports=mn().enc.Utf8}({get exports(){return vn},set exports(t){vn=t}});var wn=vn,jn={};!function(t,e){var n;t.exports=(n=mn(),function(){var t=n,e=t.lib.WordArray;function r(t,n,r){for(var o=[],i=0,a=0;a<n;a++)if(a%4){var u=r[t.charCodeAt(a-1)]<<a%4*2|r[t.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=u<<24-i%4*8,i++}return e.create(o,i)}t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,u=0;u<4&&i+.75*u<n;u++)o.push(r.charAt(a>>>6*(3-u)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var u=t.indexOf(a);-1!==u&&(e=u)}return r(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)}({get exports(){return jn},set exports(t){jn=t}});var Zn=jn;function _n(t){if(!Lt(t))return new Uint8Array;let e;try{e=function(t){if(!Yt(t))return new Uint8Array;let e=Zn.parse(t),n=e.words,r=e.sigBytes,o=new Uint8Array(r);for(let t=0;t<r;t++){let e=n[t>>>2]>>>24-t%4*8&255;o[t]=e}return o}(function(t){if(!Lt(t))return"";let e=wn.parse(t);return Zn.stringify(e)}(t))}catch(t){return new Uint8Array}return e}function Sn(t,e){return function(t,e,n,r,o,i){if(!Ht(t))return null;if(!rn(e))return null;if(!$t(n))return null;if(!ue(r))return null;if(!$t(o))return null;if(!$t(i))return null;let a,u,c;t=Jt(t);let s=8*i-o-1,l=(1<<s)-1,f=l>>1,g=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?i-1:0,h=r?-1:1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?g/c:g*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(t*c-1)*Math.pow(2,o),a+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&u,p+=h,u/=256,o-=8);for(a=a<<o|u,s+=o;s>0;e[n+p]=255&a,p+=h,a/=256,s-=8);return e[n+p-h]|=128*d,null}(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:52,arguments.length>5&&void 0!==arguments[5]?arguments[5]:8)}function xn(t){let e=[],n=[];if(!ie(t)&&!he(t))return null;let r=[],o=[];function i(t){r.push(an(t)),o.push(t)}try{let a=Cn(t);i(_n(a.results)),en(a.binarys,(t=>{i(t)}));let u=r,c=_n(JSON.stringify(u)),s=new Uint8Array(8);Sn(an(c),s),e.push(s),e.push(c),en(o,(t=>{e.push(t)})),en(e,(t=>{n=function(t,e){let n=an(t),r=an(e),o=new Uint8Array(n+r);return o.set(new Uint8Array(t),0),o.set(new Uint8Array(e),n),o}(n,t)}))}catch(t){return null}return n}function Gn(t){return function(t,e,n,r,o){if(!rn(t))return null;if(!$t(e))return null;if(!ue(n))return null;if(!$t(r))return null;if(!$t(o))return null;let i,a,u=8*o-r-1,c=(1<<u)-1,s=c>>1,l=-7,f=n?0:o-1,g=n?1:-1,p=t[e+f];for(f+=g,i=p&(1<<-l)-1,p>>=-l,l+=u;l>0;i=256*i+t[e+f],f+=g,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=g,l-=8);if(0===i)i=1-s;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=s}return(p?-1:1)*a*Math.pow(2,i-r)}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:52,arguments.length>4&&void 0!==arguments[4]?arguments[4]:8)}var Kn={};!function(t,e){var n;t.exports=(n=mn(),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=t[o]<<24-o%4*8;e.call(this,r,n)}else e.apply(this,arguments)};r.prototype=t}}(),n.lib.WordArray)}({get exports(){return Kn},set exports(t){Kn=t}});var On=Kn;function Wn(t){if(!rn(t))return"";let e;try{n=function(t){return rn(t)?On.create(t).toString(Zn):""}(t),e=Lt(n)?Zn.parse(n).toString(wn):""}catch(t){return""}var n;return e}function Bn(t){let e=null;if(!rn(t))return null;try{let n=8,r=t.slice(0,n),o=t.slice(n,an(t)),i=Gn(r),a=o.slice(0,i),u=o.slice(i,an(o)),c=Wn(a),s=function(t,e){let n=0,r=0,o=[];return en(e,(e=>{r=n+e;let i=t.slice(n,r);n=r,o.push(i)})),o}(u,JSON.parse(c));e=function(t){if(!he(t))return{};let{results:e,binarys:n}=t;if(!Lt(e))return{};if(!te(n))return{};let r={};try{r=JSON.parse(e,(function(t,e){if(Lt(e)){if(e.indexOf("[Uint8Array]::")>=0){let t=Et(e.replace("[Uint8Array]::",""));return n[t]}if(e.indexOf("[Uint16Array]::")>=0){let t=Et(e.replace("[Uint16Array]::",""));return n[t]}if(e.indexOf("[ArrayBuffer]::")>=0){let t=Et(e.replace("[ArrayBuffer]::",""));return n[t]}}return e}))}catch(t){}return r}({results:Wn(s.shift()),binarys:s})}catch(t){}return e}function Tn(t){return!!n.existsSync(t)&&(!n.lstatSync(t).isFile()&&!n.lstatSync(t).isSymbolicLink())}var kn={};!function(t,e){t.exports=function(t){var e={};!function(e,n){e.exports=function(t){var e={};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var u=new o(r,i||t,a),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],u]:t._events[c].push(u):(t._events[c]=u,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,o,i,a){var u=n?n+t:t;if(!this._events[u])return!1;var c,s,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,a),!0}for(s=1,c=new Array(f-1);s<f;s++)c[s-1]=arguments[s];l.fn.apply(l.context,c)}else{var g,p=l.length;for(s=0;s<p;s++)switch(l[s].once&&this.removeListener(t,l[s].fn,void 0,!0),f){case 1:l[s].fn.call(l[s].context);break;case 2:l[s].fn.call(l[s].context,e);break;case 3:l[s].fn.call(l[s].context,e,r);break;case 4:l[s].fn.call(l[s].context,e,r,o);break;default:if(!c)for(g=1,c=new Array(f-1);g<f;g++)c[g-1]=arguments[g];l[s].fn.apply(l[s].context,c)}}return!0},u.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var u=this._events[i];if(u.fn)u.fn!==e||o&&!u.once||r&&u.context!==r||a(this,i);else{for(var c=0,s=[],l=u.length;c<l;c++)(u[c].fn!==e||o&&!u[c].once||r&&u[c].context!==r)&&s.push(u[c]);s.length?this._events[i]=1===s.length?s[0]:s:a(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}({get exports(){return e},set exports(t){e=t}});var n=e;let r;!function(){if("nodejs"!=("undefined"!=typeof window&&void 0!==window.document?"browser":"nodejs"))return null;let e=(o="CgogICAgICAgIC8vaW1wb3J0IHsgcGFyZW50UG9ydCB9IGZyb20gJ3dvcmtlcl90aHJlYWRzJwogICAgICAgIGxldCB7IHBhcmVudFBvcnQgfSA9IHJlcXVpcmUoJ3dvcmtlcl90aHJlYWRzJykgLy/lm6BwYWNrYWdlLmpzb27kuI3ntaZ0eXBlPW1vZHVsZeaVheeEoeazleaUr+aPtGVzNiBpbXBvcnQsIOW+l+S9v+eUqHJlcXVpcmUKICAgICAgICAvL+iLpeimgeaWvG5vZGVqcyB3b3JrZXLlhafkvb/nlKjnhKHms5Xnt6jora/nmoTljp/nlJ/lpZfku7bkvovlpoJmcywg6YG/5YWN5L2/55So6aCC5bGkaW1wb3J05Yqg6LyJ5L2/55SoLCDlm6DnhKHms5Xnt6jora/mnIPnm7TmjqXkv53nlZkKICAgICAgICAvL+S4puWboGltcG9ydOS9jeaWvHdvcmtlcuWkluWxpOmZkOWumueCunJlcXVpcmXljYAocGFja2FnZS5qc29u5LiN57WmdHlwZT1tb2R1bGUpLCDmlYXlh7rnj77pjK/oqqTnhKHms5Xnt6jora8KICAgICAgICAKCiJ1c2Ugc3RyaWN0Ijt2YXIgZT1yZXF1aXJlKCJwYXRoIikscj1yZXF1aXJlKCJmcyIpO2Z1bmN0aW9uIHQoKXtsZXQgZSxyLHQ9bmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7ZT1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV19KSk7cmV0dXJuIHQucmVzb2x2ZT1lLHQucmVqZWN0PXIsdH1mdW5jdGlvbiBuKGUpe3JldHVybiEhci5leGlzdHNTeW5jKGUpJiYoIXIubHN0YXRTeW5jKGUpLmlzRGlyZWN0b3J5KCkmJiFyLmxzdGF0U3luYyhlKS5pc1N5bWJvbGljTGluaygpKX1mdW5jdGlvbiBpKGUpe2lmKCFyLmV4aXN0c1N5bmMoZSkpcmV0dXJue3N1Y2Nlc3M6ImZpbGUgZG9lcyBub3QgZXhpc3Q6ICIrZX07aWYoIW4oZSkpcmV0dXJue2Vycm9yOiJpbnB1dCBwYXRoIGlzIG5vdCBhIGZpbGU6ICIrZX07dHJ5e3IudW5saW5rU3luYyhlKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19cmV0dXJue3N1Y2Nlc3M6ImRvbmU6ICIrZX19bGV0IG1lcmdlRmlsZXM9YXN5bmMocyxvLGMsYSk9PntsZXQgdT0iIixsPXQoKTt0cnl7bGV0IGY9ZS5qb2luKHMsbyksbT1yLmNyZWF0ZVdyaXRlU3RyZWFtKGYpO2ZvcihsZXQgbD0wO2w8YztsKyspe2xldCBjPWwsZj1lLmpvaW4ocyxgJHtvfV8ke2N9YCk7aWYoIW4oZikpdGhyb3cgbmV3IEVycm9yKGBtaXNzaW5nIGNodW5rICR7bH0gb2YgZmlsZW5hbWVbJHthfV1gKTtsZXQgeT0oKT0+e2xldCBlPXQoKSxuPXIuY3JlYXRlUmVhZFN0cmVhbShmKTtyZXR1cm4gbi5vbigiZXJyb3IiLChyPT57dT1yLm1lc3NhZ2UsZS5yZWplY3Qocil9KSksbi5vbigiZW5kIiwoKCk9PntpKGYpLGUucmVzb2x2ZSgpfSkpLG4ucGlwZShtLHtlbmQ6ITF9KSxlfTthd2FpdCB5KCl9bS5lbmQoKSxtLm9uKCJlcnJvciIsKGU9Pnt1PWUubWVzc2FnZSxsLnJlamVjdCh1KX0pKSxtLm9uKCJmaW5pc2giLCgoKT0+e2xldCBlPXtmaWxlbmFtZTphLHBhdGg6Zn07bC5yZXNvbHZlKGUpfSkpfWNhdGNoKGUpe3U9ZS5tZXNzYWdlLGwucmVqZWN0KHUpfXJldHVybiBsfTsKCgpsZXQgaW5zdGFuY2UgPSBudWxsCmZ1bmN0aW9uIGluaXQoaW5wdXQpewoKICAgIC8vaW5pdAogICAgbGV0IHIKICAgIAogICAgICAgIHIgPSB7CiAgICAgICAgICAgIG1haW46IG1lcmdlRmlsZXMKICAgICAgICB9CiAgICAgICAgCgogICAgLy9vbgogICAgCgogICAgLy9zYXZlCiAgICBpbnN0YW5jZSA9IHIKCn0KCmZ1bmN0aW9uIHNlbmRNZXNzYWdlKGRhdGEpIHsKICAgIAogICAgICAgIHBhcmVudFBvcnQucG9zdE1lc3NhZ2UoZGF0YSkKICAgICAgICAKfQoKYXN5bmMgZnVuY3Rpb24gcnVuKGRhdGEpIHsKICAgIC8vIGNvbnNvbGUubG9nKCdpbm5lciB3b3JrZXIgcnVuJyxkYXRhKQoKICAgIC8vbW9kZQogICAgbGV0IG1vZGUgPSBkYXRhLm1vZGUKCiAgICAvL2NoZWNrCiAgICBpZihtb2RlICE9PSAnaW5pdCcgJiYgbW9kZSAhPT0gJ2NhbGwnKXsKICAgICAgICByZXR1cm4KICAgIH0KCiAgICAvL2luaXQKICAgIGlmKG1vZGUgPT09ICdpbml0Jyl7CiAgICAgICAgCiAgICAgICAgdHJ5ewoKICAgICAgICAgICAgLy90eXBlCiAgICAgICAgICAgIGxldCB0eXBlID0gZGF0YS50eXBlCgogICAgICAgICAgICAvL2lucHV0CiAgICAgICAgICAgIGxldCBpbnB1dCA9IGRhdGEuaW5wdXQKICAgIAogICAgICAgICAgICAvL2luc3RhbmNlCiAgICAgICAgICAgIGlmKHR5cGUgPT09ICdmdW5jdGlvbicpewogICAgICAgICAgICAgICAgaW5pdCguLi5pbnB1dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmKHR5cGUgPT09ICdvYmplY3QnKXsKICAgICAgICAgICAgICAgIGluc3RhbmNlID0gbWVyZ2VGaWxlcwogICAgICAgICAgICB9CgogICAgICAgIH0KICAgICAgICBjYXRjaChlcnIpewogICAgICAgIAogICAgICAgICAgICAvL3NlbmRNZXNzYWdlCiAgICAgICAgICAgIGxldCByZXMgPSB7CiAgICAgICAgICAgICAgICBtb2RlOiAnZW1pdCcsCiAgICAgICAgICAgICAgICBldk5hbWU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICBtc2c6IGVyciwKICAgICAgICAgICAgfQogICAgICAgICAgICBzZW5kTWVzc2FnZShyZXMpCgogICAgICAgIH0KICAgICAgICAgICAgCiAgICB9CgogICAgLy9jaGVjawogICAgaWYobW9kZSA9PT0gJ2NhbGwnKXsKICAgICAgICBsZXQgc3RhdGUgPSAnJwogICAgICAgIGxldCBtc2cgPSBudWxsCgogICAgICAgIHRyeXsKCiAgICAgICAgICAgIC8vZnVuCiAgICAgICAgICAgIGxldCBmdW4gPSBpbnN0YW5jZVtkYXRhLmZ1bl0KCiAgICAgICAgICAgIC8vaW5wdXQKICAgICAgICAgICAgbGV0IGlucHV0ID0gZGF0YS5pbnB1dAoKICAgICAgICAgICAgLy9leGVjCiAgICAgICAgICAgIGF3YWl0IGZ1biguLi5pbnB1dCkKICAgICAgICAgICAgICAgIC50aGVuKChzdWMpID0+IHsKICAgICAgICAgICAgICAgICAgICBzdGF0ZT0nc3VjY2VzcycKICAgICAgICAgICAgICAgICAgICBtc2c9c3VjCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgICAgICBzdGF0ZT0nZXJyb3InCiAgICAgICAgICAgICAgICAgICAgbXNnPWVycgogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgfQogICAgICAgIGNhdGNoKGVycil7CiAgICAgICAgICAgIHN0YXRlID0gJ2Vycm9yJwogICAgICAgICAgICBtc2cgPSBlcnIKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy9zZW5kTWVzc2FnZQogICAgICAgIGxldCByZXMgPSB7CiAgICAgICAgICAgIG1vZGU6ICdyZXR1cm4nLAogICAgICAgICAgICBpZDogZGF0YS5pZCwKICAgICAgICAgICAgZnVuOiBkYXRhLmZ1biwKICAgICAgICAgICAgc3RhdGUsCiAgICAgICAgICAgIG1zZywKICAgICAgICB9CiAgICAgICAgc2VuZE1lc3NhZ2UocmVzKQoKICAgIH0KCn0KCmZ1bmN0aW9uIHJlY3ZNZXNzYWdlKGRhdGEpIHsKICAgIC8vIGNvbnNvbGUubG9nKCdpbm5lciB3b3JrZXIgcmVjdjonLCBkYXRhKQoKICAgIC8vZGF0YVJlY3YKICAgIGxldCBkYXRhUmVjdiA9IGRhdGEKCiAgICAvL3J1bgogICAgcnVuKGRhdGFSZWN2KQoKfQoKCiAgICAgICAgcGFyZW50UG9ydC5vbignbWVzc2FnZScsIHJlY3ZNZXNzYWdlKQogICAgICAgIAoKdHJ5ewogICAgcHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgKGVycikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdpbm5lcjp1bmhhbmRsZWRSZWplY3Rpb24nLCBlcnIpCiAgICB9KQogICAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ2lubmVyOnVuY2F1Z2h0RXhjZXB0aW9uJywgZXJyKQogICAgfSkKICAgIHByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uTW9uaXRvcicsIChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnaW5uZXI6dW5jYXVnaHRFeGNlcHRpb25Nb25pdG9yJywgZXJyKQogICAgfSkKfQpjYXRjaChlcnIpe30KCg==",Buffer.from(o,"base64").toString("utf8"));var o;function i(){let r=new n,o=function(e){try{return new t.Worker(e,{eval:!0})}catch(t){a(t)}}(e);if(!o)return a("invalid worker"),null;function i(){let t=function(){let t,e,n=new Promise((function(){t=arguments[0],e=arguments[1]}));return n.resolve=t,n.reject=e,n}(),e=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=[],n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=n.length;for(let o=0;o<t;o++)e[o]=n[0|Math.random()*r];return e.join("")}(),n={mode:"call",id:e,fun:"main",input:[...arguments]};return o.postMessage(n),r.once(e,(e=>{"success"===e.state?t.resolve(e.msg):t.reject(e.msg)})),t}function a(t){r.emit("error",t)}return o.on("message",(function(t){let e=t,n=e.mode;"emit"!==n&&"return"!==n||("emit"===n&&r.emit(e.evName,e.msg),"return"===n&&r.emit(e.id,e))})),o.on("error",a),o.on("exit",(t=>{1!==t&&a("exit code["+t+"] !== 1")})),function(){let t={mode:"init",type:"function",input:[...arguments]};o.postMessage(t)}([...arguments]),r.main=i,r.main=i,r.terminate=function(){o?(o.terminate(),o=void 0):a("worker has been terminated")},r}r=async function(){let t=[...arguments],e=i();return await e.main(...t).finally((()=>{e.terminate()}))}}();try{process.on("unhandledRejection",(t=>{console.log("outer:unhandledRejection",t)})),process.on("uncaughtException",(t=>{console.log("outer:uncaughtException",t)})),process.on("uncaughtExceptionMonitor",(t=>{console.log("outer:uncaughtExceptionMonitor",t)}))}catch(t){}return r}(t)}({get exports(){return e},set exports(t){e=t}});var n=e,r={};!function(t,e){t.exports=function(){const t="function"==typeof Buffer,e="function"==typeof TextDecoder?new TextDecoder:void 0,n=(t=>{let e={};return t.forEach(((t,n)=>e[t]=n)),e})(("function"==typeof TextEncoder&&new TextEncoder,Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="))),r=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,o=String.fromCharCode.bind(String),i="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),a=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),u=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,c=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return o(55296+(e>>>10))+o(56320+(1023&e));case 3:return o((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return o((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},s=t=>t.replace(u,c),l=t=>{if(t=t.replace(/\s+/g,""),!r.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,i,a,u="";for(let r=0;r<t.length;)e=n[t.charAt(r++)]<<18|n[t.charAt(r++)]<<12|(i=n[t.charAt(r++)])<<6|(a=n[t.charAt(r++)]),u+=64===i?o(e>>16&255):64===a?o(e>>16&255,e>>8&255):o(e>>16&255,e>>8&255,255&e);return u},f="function"==typeof atob?t=>atob(a(t)):t?t=>Buffer.from(t,"base64").toString("binary"):l,g=t?t=>i(Buffer.from(t,"base64")):t=>i(f(t).split("").map((t=>t.charCodeAt(0)))),p=t?t=>Buffer.from(t,"base64").toString("utf8"):e?t=>e.decode(g(t)):t=>s(f(t)),h=t=>a(t.replace(/[-_]/g,(t=>"-"==t?"+":"/"))),d=t=>p(h(t)),I=d;var C={};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var u=new o(r,i||t,a),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],u]:t._events[c].push(u):(t._events[c]=u,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,o,i,a){var u=n?n+t:t;if(!this._events[u])return!1;var c,s,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,a),!0}for(s=1,c=new Array(f-1);s<f;s++)c[s-1]=arguments[s];l.fn.apply(l.context,c)}else{var g,p=l.length;for(s=0;s<p;s++)switch(l[s].once&&this.removeListener(t,l[s].fn,void 0,!0),f){case 1:l[s].fn.call(l[s].context);break;case 2:l[s].fn.call(l[s].context,e);break;case 3:l[s].fn.call(l[s].context,e,r);break;case 4:l[s].fn.call(l[s].context,e,r,o);break;default:if(!c)for(g=1,c=new Array(f-1);g<f;g++)c[g-1]=arguments[g];l[s].fn.apply(l[s].context,c)}}return!0},u.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var u=this._events[i];if(u.fn)u.fn!==e||o&&!u.once||r&&u.context!==r||a(this,i);else{for(var c=0,s=[],l=u.length;c<l;c++)(u[c].fn!==e||o&&!u[c].once||r&&u[c].context!==r)&&s.push(u[c]);s.length?this._events[i]=1===s.length?s[0]:s:a(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}({get exports(){return C},set exports(t){C=t}});var v=C;let y;!function(){if("browser"!=("undefined"!=typeof window&&void 0!==window.document?"browser":"nodejs"))return null;let t=I("CgoKInVzZSBzdHJpY3QiO3ZhciBlPXJlcXVpcmUoInBhdGgiKSxyPXJlcXVpcmUoImZzIik7ZnVuY3Rpb24gdCgpe2xldCBlLHIsdD1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oKXtlPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXX0pKTtyZXR1cm4gdC5yZXNvbHZlPWUsdC5yZWplY3Q9cix0fWZ1bmN0aW9uIG4oZSl7cmV0dXJuISFyLmV4aXN0c1N5bmMoZSkmJighci5sc3RhdFN5bmMoZSkuaXNEaXJlY3RvcnkoKSYmIXIubHN0YXRTeW5jKGUpLmlzU3ltYm9saWNMaW5rKCkpfWZ1bmN0aW9uIGkoZSl7aWYoIXIuZXhpc3RzU3luYyhlKSlyZXR1cm57c3VjY2VzczoiZmlsZSBkb2VzIG5vdCBleGlzdDogIitlfTtpZighbihlKSlyZXR1cm57ZXJyb3I6ImlucHV0IHBhdGggaXMgbm90IGEgZmlsZTogIitlfTt0cnl7ci51bmxpbmtTeW5jKGUpfWNhdGNoKGUpe3JldHVybntlcnJvcjplfX1yZXR1cm57c3VjY2VzczoiZG9uZTogIitlfX1sZXQgbWVyZ2VGaWxlcz1hc3luYyhzLG8sYyxhKT0+e2xldCB1PSIiLGw9dCgpO3RyeXtsZXQgZj1lLmpvaW4ocyxvKSxtPXIuY3JlYXRlV3JpdGVTdHJlYW0oZik7Zm9yKGxldCBsPTA7bDxjO2wrKyl7bGV0IGM9bCxmPWUuam9pbihzLGAke299XyR7Y31gKTtpZighbihmKSl0aHJvdyBuZXcgRXJyb3IoYG1pc3NpbmcgY2h1bmsgJHtsfSBvZiBmaWxlbmFtZVske2F9XWApO2xldCB5PSgpPT57bGV0IGU9dCgpLG49ci5jcmVhdGVSZWFkU3RyZWFtKGYpO3JldHVybiBuLm9uKCJlcnJvciIsKHI9Pnt1PXIubWVzc2FnZSxlLnJlamVjdChyKX0pKSxuLm9uKCJlbmQiLCgoKT0+e2koZiksZS5yZXNvbHZlKCl9KSksbi5waXBlKG0se2VuZDohMX0pLGV9O2F3YWl0IHkoKX1tLmVuZCgpLG0ub24oImVycm9yIiwoZT0+e3U9ZS5tZXNzYWdlLGwucmVqZWN0KHUpfSkpLG0ub24oImZpbmlzaCIsKCgpPT57bGV0IGU9e2ZpbGVuYW1lOmEscGF0aDpmfTtsLnJlc29sdmUoZSl9KSl9Y2F0Y2goZSl7dT1lLm1lc3NhZ2UsbC5yZWplY3QodSl9cmV0dXJuIGx9OwoKCmxldCBpbnN0YW5jZSA9IG51bGwKZnVuY3Rpb24gaW5pdChpbnB1dCl7CgogICAgLy9pbml0CiAgICBsZXQgcgogICAgCiAgICAgICAgciA9IHsKICAgICAgICAgICAgbWFpbjogbWVyZ2VGaWxlcwogICAgICAgIH0KICAgICAgICAKCiAgICAvL29uCiAgICAKCiAgICAvL3NhdmUKICAgIGluc3RhbmNlID0gcgoKfQoKZnVuY3Rpb24gc2VuZE1lc3NhZ2UoZGF0YSkgewogICAgCiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShkYXRhKQogICAgICAgIAp9Cgphc3luYyBmdW5jdGlvbiBydW4oZGF0YSkgewogICAgLy8gY29uc29sZS5sb2coJ2lubmVyIHdvcmtlciBydW4nLGRhdGEpCgogICAgLy9tb2RlCiAgICBsZXQgbW9kZSA9IGRhdGEubW9kZQoKICAgIC8vY2hlY2sKICAgIGlmKG1vZGUgIT09ICdpbml0JyAmJiBtb2RlICE9PSAnY2FsbCcpewogICAgICAgIHJldHVybgogICAgfQoKICAgIC8vaW5pdAogICAgaWYobW9kZSA9PT0gJ2luaXQnKXsKICAgICAgICAKICAgICAgICB0cnl7CgogICAgICAgICAgICAvL3R5cGUKICAgICAgICAgICAgbGV0IHR5cGUgPSBkYXRhLnR5cGUKCiAgICAgICAgICAgIC8vaW5wdXQKICAgICAgICAgICAgbGV0IGlucHV0ID0gZGF0YS5pbnB1dAogICAgCiAgICAgICAgICAgIC8vaW5zdGFuY2UKICAgICAgICAgICAgaWYodHlwZSA9PT0gJ2Z1bmN0aW9uJyl7CiAgICAgICAgICAgICAgICBpbml0KC4uLmlucHV0KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYodHlwZSA9PT0gJ29iamVjdCcpewogICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBtZXJnZUZpbGVzCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgICAgIGNhdGNoKGVycil7CiAgICAgICAgCiAgICAgICAgICAgIC8vc2VuZE1lc3NhZ2UKICAgICAgICAgICAgbGV0IHJlcyA9IHsKICAgICAgICAgICAgICAgIG1vZGU6ICdlbWl0JywKICAgICAgICAgICAgICAgIGV2TmFtZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgIG1zZzogZXJyLAogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbmRNZXNzYWdlKHJlcykKCiAgICAgICAgfQogICAgICAgICAgICAKICAgIH0KCiAgICAvL2NoZWNrCiAgICBpZihtb2RlID09PSAnY2FsbCcpewogICAgICAgIGxldCBzdGF0ZSA9ICcnCiAgICAgICAgbGV0IG1zZyA9IG51bGwKCiAgICAgICAgdHJ5ewoKICAgICAgICAgICAgLy9mdW4KICAgICAgICAgICAgbGV0IGZ1biA9IGluc3RhbmNlW2RhdGEuZnVuXQoKICAgICAgICAgICAgLy9pbnB1dAogICAgICAgICAgICBsZXQgaW5wdXQgPSBkYXRhLmlucHV0CgogICAgICAgICAgICAvL2V4ZWMKICAgICAgICAgICAgYXdhaXQgZnVuKC4uLmlucHV0KQogICAgICAgICAgICAgICAgLnRoZW4oKHN1YykgPT4gewogICAgICAgICAgICAgICAgICAgIHN0YXRlPSdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgIG1zZz1zdWMKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgICAgIHN0YXRlPSdlcnJvcicKICAgICAgICAgICAgICAgICAgICBtc2c9ZXJyCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICB9CiAgICAgICAgY2F0Y2goZXJyKXsKICAgICAgICAgICAgc3RhdGUgPSAnZXJyb3InCiAgICAgICAgICAgIG1zZyA9IGVycgogICAgICAgIH0KICAgICAgICAKICAgICAgICAvL3NlbmRNZXNzYWdlCiAgICAgICAgbGV0IHJlcyA9IHsKICAgICAgICAgICAgbW9kZTogJ3JldHVybicsCiAgICAgICAgICAgIGlkOiBkYXRhLmlkLAogICAgICAgICAgICBmdW46IGRhdGEuZnVuLAogICAgICAgICAgICBzdGF0ZSwKICAgICAgICAgICAgbXNnLAogICAgICAgIH0KICAgICAgICBzZW5kTWVzc2FnZShyZXMpCgogICAgfQoKfQoKZnVuY3Rpb24gcmVjdk1lc3NhZ2UoZGF0YSkgewogICAgLy8gY29uc29sZS5sb2coJ2lubmVyIHdvcmtlciByZWN2OicsIGRhdGEpCgogICAgLy9kYXRhUmVjdgogICAgbGV0IGRhdGFSZWN2ID0gZGF0YQoKICAgIC8vcnVuCiAgICBydW4oZGF0YVJlY3YpCgp9CgoKICAgICAgICBzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJlY3ZNZXNzYWdlKGUuZGF0YSkKICAgICAgICB9CiAgICAgICAgCgp0cnl7CiAgICBwcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCAoZXJyKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ2lubmVyOnVuaGFuZGxlZFJlamVjdGlvbicsIGVycikKICAgIH0pCiAgICBwcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnaW5uZXI6dW5jYXVnaHRFeGNlcHRpb24nLCBlcnIpCiAgICB9KQogICAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb25Nb25pdG9yJywgKGVycikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdpbm5lcjp1bmNhdWdodEV4Y2VwdGlvbk1vbml0b3InLCBlcnIpCiAgICB9KQp9CmNhdGNoKGVycil7fQoK");function e(){let e=new v,n=function(t){try{let e=new Blob([t]),n=window.URL||window.webkitURL;return new Worker(n.createObjectURL(e))}catch(t){o(t)}}(t);if(!n)return o("invalid worker"),null;function r(){let t=function(){let t,e,n=new Promise((function(){t=arguments[0],e=arguments[1]}));return n.resolve=t,n.reject=e,n}(),r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=[],n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=n.length;for(let o=0;o<t;o++)e[o]=n[0|Math.random()*r];return e.join("")}(),o={mode:"call",id:r,fun:"main",input:[...arguments]};return n.postMessage(o),e.once(r,(e=>{"success"===e.state?t.resolve(e.msg):t.reject(e.msg)})),t}function o(t){e.emit("error",t)}return n.onmessage=function(t){!function(t){let n=t,r=n.mode;"emit"!==r&&"return"!==r||("emit"===r&&e.emit(n.evName,n.msg),"return"===r&&e.emit(n.id,n))}(t.data)},n.onerror=o,n.onmessageerror=function(t){o(t.data)},function(){let t={mode:"init",type:"function",input:[...arguments]};n.postMessage(t)}([...arguments]),e.main=r,e.main=r,e.terminate=function(){n?(n.terminate(),n=void 0):o("worker has been terminated")},e}y=async function(){let t=[...arguments],n=e();return await n.main(...t).finally((()=>{n.terminate()}))}}();try{process.on("unhandledRejection",(t=>{console.log("outer:unhandledRejection",t)})),process.on("uncaughtException",(t=>{console.log("outer:uncaughtException",t)})),process.on("uncaughtExceptionMonitor",(t=>{console.log("outer:uncaughtExceptionMonitor",t)}))}catch(t){}return y}()}({get exports(){return r},set exports(t){r=t}});var o=r;let i;return i="undefined"!=typeof window&&void 0!==window.document?o:n,i}(o)}({get exports(){return kn},set exports(t){kn=t}});var Xn=kn;function Nn(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=At(o,"port");Pt(i)||(i=8080);let a=At(o,"useInert");ue(a)||(a=!0);let u=At(o,"pathStaticFiles");Lt(u)||(u="dist");let c=At(o,"apiName");Lt(c)||(c="api");let s=`${c}slc`,l=At(o,"pathUploadTemp");Lt(l)||(l="./uploadTemp"),Tn(l)||function(t){if(Tn(t))return{success:"input folder is already exists: "+t};if(n.existsSync(t))return{error:"input path already exists: "+t};try{n.mkdirSync(t,{recursive:!0})}catch(t){return{error:t}}}(l);let f=At(o,"verifyConn");jt(f)||(f=()=>!0);let g=At(o,"corsOrigins",[]);ie(g)||(g=["*"]);let p=At(o,"delayForBasic","");de(p)||(p=0),p=Et(p);let h=At(o,"delayForSlice","");de(h)||(h=100),h=Et(h);let d=null;d=At(o,"serverHapi")?o.serverHapi:t.server({port:i,routes:{timeout:{server:!1,socket:!1},cors:{origin:g,credentials:!1}}});let I=le(),C=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];setTimeout((()=>{I.emit(t,...n)}),1)};function v(t,e){let n=new r.Readable;return n._read=()=>{},n.push(e),n.push(null),t.response(n).header("Cache-Control","no-cache, no-store, must-revalidate").header("Content-Type","application/octet-stream").header("Content-Length",n.readableLength)}let y={path:`/${c}`,method:"POST",options:{payload:{maxBytes:1099511627776,maxParts:1e9,timeout:!1,output:"stream",parse:!1},timeout:{server:!1,socket:!1}},handler:async function(t,e){let n=At(t,"headers");n=he(n)?n:"";let o=At(t,"query");o=he(o)?o:"";let i=At(n,"authorization","");i=Lt(i)?i:"";{let t=f({apiType:"main",authorization:i,headers:n,query:o});if(ge(t)&&(t=await t),!0!==t){return v(e,xn({error:"permission denied"}))}}C("handler",{api:"apiMain",headers:n,query:o});let a=await(()=>{let e=fe(),n=[],o=new r.Writable({write(t,e,r){n.push(t),setTimeout((()=>{r()}),p)}});return t.payload.pipe(o),t.payload.on("end",(()=>{let t=Buffer.concat(n);n=[],e.resolve(t)})),t.payload.on("error",(t=>{C("error","receive payload err"),e.reject(t.message)})),e})(),u=Bn(new Uint8Array(a)),c={};return await async function(t){let e=fe(),n=fe();n.then((n=>{t.output=n,delete t.input,e.resolve(t)})).catch((t=>{e.reject(t)}));{let e=At(t,"func",""),r=At(t,"input",null);C("execute",e,r,n)}return e}(u).then((function(t){c.success=t})).catch((function(t){c.error=t})),v(e,xn(c))}},A={path:`/${s}`,method:"POST",options:{payload:{maxBytes:1099511627776,maxParts:1e9,timeout:!1,output:"stream",parse:!1},timeout:{server:!1,socket:!1}},handler:async function(t,e){let r=At(t,"headers");r=he(r)?r:"";let o=At(t,"query");o=he(o)?o:"";let i=At(r,"authorization","");i=Lt(i)?i:"";{let t=f({apiType:"slice",authorization:i,headers:r,query:o});if(ge(t)&&(t=await t),!0!==t){return v(e,xn({error:"permission denied"}))}}C("handler",{api:"apiSlice",headers:r,query:o});let a=At(r,"chunk-index",""),u=At(r,"chunk-total",""),c=At(r,"package-id","");if(!de(a))return console.log("invalid chunkIndex in headers"),e.response({error:"invalid chunkIndex in headers"}).code(400);if(a=Et(a),!de(u))return console.log("invalid chunkTotal in headers"),e.response({error:"invalid chunkTotal in headers"}).code(400);if(u=Et(u),!Lt(c))return console.log("invalid packageId in headers"),e.response({error:"invalid packageId in headers"}).code(400);let s=`${l}/${c}_${a}`,g=n.createWriteStream(s),p={};return await(()=>{let e=fe();return t.payload.pipe(g),t.payload.on("end",(()=>{setTimeout((()=>{e.resolve(`chunk[${a}/${u}] of packageId[${c}] done`)}),h)})),t.payload.on("error",(()=>{C("error",`receive chunk[${a+1}/${u}] err`),e.reject(`chunk[${a}/${u}] of packageId[${c}] err`)})),e})().then((function(t){p.success=t})).catch((function(t){p.error=t})),v(e,xn(p))}},b={path:`/${s}m`,method:"POST",options:{payload:{maxBytes:1099511627776,maxParts:1e9,timeout:!1,parse:!0},timeout:{server:!1,socket:!1}},handler:async function(t,e){let n=At(t,"headers");n=he(n)?n:"";let r=At(t,"query");r=he(r)?r:"";let o=At(n,"authorization","");o=Lt(o)?o:"";{let t=f({apiType:"merge",authorization:o,headers:n,query:r});if(ge(t)&&(t=await t),!0!==t){return v(e,xn({error:"permission denied"}))}}C("handler",{api:"apiSliceMerge",headers:n,query:r});let i=At(t,"payload.filename",""),a=At(t,"payload.chunk-total",""),u=At(t,"payload.package-id","");if(!Lt(i))return console.log("invalid filename in payload"),e.response({error:"invalid filename in payload"}).code(400);if(!de(a))return console.log("invalid chunkTotal in payload"),e.response({error:"invalid chunkTotal in payload"}).code(400);if(a=Et(a),!Lt(u))return console.log("invalid packageId in payload"),e.response({error:"invalid packageId in payload"}).code(400);let c={};return await(async()=>{let t=await Xn(l,u,a,i);return await async function(t){let e=fe(),n=fe();return n.then((t=>{e.resolve(t)})).catch((t=>{e.reject(t)})),C("upload",t,n),e}(t)})().then((function(t){c.success=t})).catch((function(t){c.error=t})),v(e,xn(c))}};At(o,"serverHapi")?d.route([y,A,b]):async function(){a&&await d.register(e);let t=[];if(a){let e={method:"GET",path:"/{file*}",handler:{directory:{path:`${u}/`}}};t=[...t,e]}t=[...t,y,A,b],d.route(t),await d.start(),console.log(`Server running at: ${d.info.uri}`)}();return I.stop=()=>{d.stop()},I}function Vn(t){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(t)}function Yn(t){var e=function(t,e){if("object"!==Vn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vn(e)?e:String(e)}function Ln(t,e,n){return(e=Yn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Un(t,e){return!!ne(t)&&(!(!Lt(e)&&!Ht(e))&&e in t)}var Hn=function(){return c.Date.now()},Jn="Expected a function",$n=Math.max,Rn=Math.min;function zn(t,e,n){var r,o,i,a,u,c,s=0,l=!1,f=!1,g=!0;if("function"!=typeof t)throw new TypeError(Jn);function p(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n)}function h(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-s>=i}function d(){var t=Hn();if(h(t))return I(t);u=setTimeout(d,function(t){var n=e-(t-c);return f?Rn(n,i-(t-s)):n}(t))}function I(t){return u=void 0,g&&r?p(t):(r=o=void 0,a)}function C(){var t=Hn(),n=h(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return function(t){return s=t,u=setTimeout(d,e),l?p(t):a}(c);if(f)return clearTimeout(u),u=setTimeout(d,e),p(c)}return void 0===u&&(u=setTimeout(d,e)),a}return e=Tt(e)||0,Z(n)&&(l=!!n.leading,i=(f="maxWait"in n)?$n(Tt(n.maxWait)||0,e):i,g="trailing"in n?!!n.trailing:g),C.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=c=o=u=void 0},C.flush=function(){return void 0===u?a:I(Hn())},C}function Fn(t){var e=this.__data__=new D(t);this.size=e.size}Fn.prototype.clear=function(){this.__data__=new D,this.size=0},Fn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Fn.prototype.get=function(t){return this.__data__.get(t)},Fn.prototype.has=function(t){return this.__data__.has(t)},Fn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof D){var r=n.__data__;if(!Q||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tt(r)}return n.set(t,e),this.size=n.size,this};var Mn=function(){try{var t=J(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),En=Mn;function Pn(t,e,n){"__proto__"==e&&En?En(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Dn(t,e,n){(void 0!==n&&!M(t[e],n)||void 0===n&&!(e in t))&&Pn(t,e,n)}var Qn="object"==typeof exports&&exports&&!exports.nodeType&&exports,qn=Qn&&"object"==typeof module&&module&&!module.nodeType&&module,tr=qn&&qn.exports===Qn?c.Buffer:void 0,er=tr?tr.allocUnsafe:void 0;function nr(t,e){if(e)return t.slice();var n=t.length,r=er?er(n):new t.constructor(n);return t.copy(r),r}var rr=c.Uint8Array;function or(t){var e=new t.constructor(t.byteLength);return new rr(e).set(new rr(t)),e}function ir(t,e){var n=e?or(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ar(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var ur=Object.create,cr=function(){function t(){}return function(e){if(!Z(e))return{};if(ur)return ur(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),sr=cr;function lr(t){return"function"!=typeof t.constructor||Re(t)?{}:sr(un(t))}function fr(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var gr=Object.prototype.hasOwnProperty;function pr(t,e,n){var r=t[e];gr.call(t,e)&&M(r,n)&&(void 0!==n||e in t)||Pn(t,e,n)}function hr(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Pn(n,u,c):pr(n,u,c)}return n}var dr=Object.prototype.hasOwnProperty;function Ir(t){if(!Z(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Re(t),n=[];for(var r in t)("constructor"!=r||!e&&dr.call(t,r))&&n.push(r);return n}function Cr(t){return Pe(t)?Je(t,!0):Ir(t)}function vr(t,e,n,r,o,a,u){var c=fr(t,n),s=fr(e,n),l=u.get(s);if(l)Dn(t,n,l);else{var f,g=a?a(c,s,n+"",t,e,u):void 0,p=void 0===g;if(p){var h=i(s),d=!h&&xe(s),I=!h&&!d&&Ue(s);g=s,h||d||I?i(c)?g=c:y(f=c)&&Pe(f)?g=ar(c):d?(p=!1,g=nr(s,!0)):I?(p=!1,g=ir(s,!0)):g=[]:hn(s)||je(s)?(g=c,je(c)?g=function(t){return hr(t,Cr(t))}(c):Z(c)&&!K(c)||(g=lr(s))):p=!1}p&&(u.set(s,g),o(g,s,r,a,u),u.delete(s)),Dn(t,n,g)}}function yr(t,e,n,r,o){t!==e&&ve(e,(function(i,a){if(o||(o=new Fn),Z(i))vr(t,e,a,n,yr,r,o);else{var u=r?r(fr(t,a),i,a+"",t,e,o):void 0;void 0===u&&(u=i),Dn(t,a,u)}}),Cr)}var Ar=Math.max;var br=En?function(t,e){return En(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:tn,mr=br,wr=Date.now;var jr=function(t){var e=0,n=0;return function(){var r=wr(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(mr),Zr=jr;function _r(t,e){return Zr(function(t,e,n){return e=Ar(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Ar(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,u)}}(t,e,tn),t+"")}var Sr,xr=(Sr=function(t,e,n){yr(t,e,n)},_r((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=Sr.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(t,e,n){if(!Z(n))return!1;var r=typeof e;return!!("number"==r?Pe(n)&&Oe(e,n.length):"string"==r&&e in n)&&M(n[e],t)}(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=e[n];a&&Sr(t,a,n,o)}return t})));function Gr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if(he(t)||(console.log("instWConverServer is not an effective object, and set instWConverServer to an EventEmitter"),t=le()),!Un(t,"emit"))throw new Error("instWConverServer is not an EventEmitter");let o=At(e,"fpTableTags","");Lt(o)||(o="./tableTags.json");let i=At(e,"genTag");jt(i)||(i=()=>Zt()+"|"+qt(6));let a=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];setTimeout((()=>{t.emit(e,...r)}),1)};function u(){let t={};try{if(n.existsSync(o)){let e=function(t){if(!Lt(t))return{};let e={};try{e=JSON.parse(t)}catch(t){e={}}return e}(n.readFileSync(o,"utf8"));he(e)&&(t=e)}}catch(t){a("error",{msg:"readTableTags catch",err:t})}return t}function c(){try{let t=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ee(t))return"";let n="";try{n=e?JSON.stringify(t,null,2):JSON.stringify(t)}catch(t){n=""}return n}(r);n.writeFileSync(o,t,"utf8")}catch(t){a("error",{msg:"writeTableTags catch",err:t})}}let s=zn((()=>{c(),a("changeTableTags",r)}),200);return t.readTableTags=u,t.writeTableTags=c,t.initTableTags=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"useInputFirst";if("useInputOnly"===e)r=t;else if("useStorageOnly"===e)r=u();else if("useInputFirst"===e)r=xr(u(),t);else{if("useStorageFirst"!==e)throw new Error(`invalid mode[${e}]`);r=xr(t,u())}c()},t.setTableTags=function(){r=xr(r,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),c()},t.getTableTags=function(){return r},t.updateTableTag=function(t){r[t]=i(),s()},t}function Kr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new tt;++e<n;)this.add(t[e])}function Or(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Wr(t,e){return t.has(e)}Kr.prototype.add=Kr.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Kr.prototype.has=function(t){return this.__data__.has(t)};var Br=1,Tr=2;function kr(t,e,n,r,o,i){var a=n&Br,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,g=!0,p=n&Tr?new Kr:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var h=t[f],d=e[f];if(r)var I=a?r(d,h,f,e,t,i):r(h,d,f,t,e,i);if(void 0!==I){if(I)continue;g=!1;break}if(p){if(!Or(e,(function(t,e){if(!Wr(p,e)&&(h===t||o(h,t,n,r,i)))return p.push(e)}))){g=!1;break}}else if(h!==d&&!o(h,d,n,r,i)){g=!1;break}}return i.delete(t),i.delete(e),g}function Xr(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Nr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Vr=1,Yr=2,Lr="[object Boolean]",Ur="[object Date]",Hr="[object Error]",Jr="[object Map]",$r="[object Number]",Rr="[object RegExp]",zr="[object Set]",Fr="[object String]",Mr="[object Symbol]",Er="[object ArrayBuffer]",Pr="[object DataView]",Dr=s?s.prototype:void 0,Qr=Dr?Dr.valueOf:void 0;function qr(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function to(t,e,n){var r=e(t);return i(t)?r:qr(r,n(t))}function eo(){return[]}var no=Object.prototype.propertyIsEnumerable,ro=Object.getOwnPropertySymbols,oo=ro?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}(ro(t),(function(e){return no.call(t,e)})))}:eo,io=oo;function ao(t){return to(t,De,io)}var uo=1,co=Object.prototype.hasOwnProperty;var so=J(c,"DataView"),lo=J(c,"Promise"),fo=J(c,"Set"),go=J(c,"WeakMap"),po="[object Map]",ho="[object Promise]",Io="[object Set]",Co="[object WeakMap]",vo="[object DataView]",yo=k(so),Ao=k(Q),bo=k(lo),mo=k(fo),wo=k(go),jo=v;(so&&jo(new so(new ArrayBuffer(1)))!=vo||Q&&jo(new Q)!=po||lo&&jo(lo.resolve())!=ho||fo&&jo(new fo)!=Io||go&&jo(new go)!=Co)&&(jo=function(t){var e=v(t),n="[object Object]"==e?t.constructor:void 0,r=n?k(n):"";if(r)switch(r){case yo:return vo;case Ao:return po;case bo:return ho;case mo:return Io;case wo:return Co}return e});var Zo=jo,_o=1,So="[object Arguments]",xo="[object Array]",Go="[object Object]",Ko=Object.prototype.hasOwnProperty;function Oo(t,e,n,r,o,a){var u=i(t),c=i(e),s=u?xo:Zo(t),l=c?xo:Zo(e),f=(s=s==So?Go:s)==Go,g=(l=l==So?Go:l)==Go,p=s==l;if(p&&xe(t)){if(!xe(e))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Fn),u||Ue(t)?kr(t,e,n,r,o,a):function(t,e,n,r,o,i,a){switch(n){case Pr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Er:return!(t.byteLength!=e.byteLength||!i(new rr(t),new rr(e)));case Lr:case Ur:case $r:return M(+t,+e);case Hr:return t.name==e.name&&t.message==e.message;case Rr:case Fr:return t==e+"";case Jr:var u=Xr;case zr:var c=r&Vr;if(u||(u=Nr),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=Yr,a.set(t,e);var l=kr(u(t),u(e),r,o,i,a);return a.delete(t),l;case Mr:if(Qr)return Qr.call(t)==Qr.call(e)}return!1}(t,e,s,n,r,o,a);if(!(n&_o)){var h=f&&Ko.call(t,"__wrapped__"),d=g&&Ko.call(e,"__wrapped__");if(h||d){var I=h?t.value():t,C=d?e.value():e;return a||(a=new Fn),o(I,C,n,r,a)}}return!!p&&(a||(a=new Fn),function(t,e,n,r,o,i){var a=n&uo,u=ao(t),c=u.length;if(c!=ao(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:co.call(e,l)))return!1}var f=i.get(t),g=i.get(e);if(f&&g)return f==e&&g==t;var p=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<c;){var d=t[l=u[s]],I=e[l];if(r)var C=a?r(I,d,l,e,t,i):r(d,I,l,t,e,i);if(!(void 0===C?d===I||o(d,I,n,r,i):C)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,n,r,o,a))}function Wo(t,e,n,r,o){return t===e||(null==t||null==e||!y(t)&&!y(e)?t!=t&&e!=e:Oo(t,e,n,r,Wo,o))}var Bo=1,To=2;function ko(t){return t==t&&!Z(t)}function Xo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function No(t){var e=function(t){for(var e=De(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,ko(o)]}return e}(t);return 1==e.length&&e[0][2]?Xo(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=n[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new Fn;if(r)var g=r(s,l,c,t,e,f);if(!(void 0===g?Wo(l,s,Bo|To,r,f):g))return!1}}return!0}(n,t,e)}}function Vo(t,e){return null!=t&&e in Object(t)}function Yo(t,e){return null!=t&&function(t,e,n){for(var r=-1,o=(e=It(e,t)).length,a=!1;++r<o;){var u=vt(e[r]);if(!(a=null!=t&&n(t,u)))break;t=t[u]}return a||++r!=o?a:!!(o=null==t?0:t.length)&&Be(o)&&Oe(u,o)&&(i(t)||je(t))}(t,e,Vo)}var Lo=1,Uo=2;function Ho(t){return function(e){return null==e?void 0:e[t]}}function Jo(t){return j(t)?Ho(vt(t)):function(t){return function(e){return yt(e,t)}}(t)}function $o(t){return"function"==typeof t?t:null==t?tn:"object"==typeof t?i(t)?(e=t[0],n=t[1],j(e)&&ko(n)?Xo(vt(e),n):function(t){var r=At(t,e);return void 0===r&&r===n?Yo(t,e):Wo(n,r,Lo|Uo)}):No(t):Jo(t);var e,n}function Ro(t,e){var n=-1,r=Pe(t)?Array(t.length):[];return qe(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}var zo=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)qr(e,io(t)),t=un(t);return e}:eo,Fo=zo;function Mo(t){return to(t,Cr,Fo)}var Eo=Object.prototype.hasOwnProperty;var Po=/\w*$/;var Do=s?s.prototype:void 0,Qo=Do?Do.valueOf:void 0;var qo="[object Boolean]",ti="[object Date]",ei="[object Map]",ni="[object Number]",ri="[object RegExp]",oi="[object Set]",ii="[object String]",ai="[object Symbol]",ui="[object ArrayBuffer]",ci="[object DataView]",si="[object Float32Array]",li="[object Float64Array]",fi="[object Int8Array]",gi="[object Int16Array]",pi="[object Int32Array]",hi="[object Uint8Array]",di="[object Uint8ClampedArray]",Ii="[object Uint16Array]",Ci="[object Uint32Array]";function vi(t,e,n){var r,o=t.constructor;switch(e){case ui:return or(t);case qo:case ti:return new o(+t);case ci:return function(t,e){var n=e?or(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case si:case li:case fi:case gi:case pi:case hi:case di:case Ii:case Ci:return ir(t,n);case ei:return new o;case ni:case ii:return new o(t);case ri:return function(t){var e=new t.constructor(t.source,Po.exec(t));return e.lastIndex=t.lastIndex,e}(t);case oi:return new o;case ai:return r=t,Qo?Object(Qo.call(r)):{}}}var yi=Ye&&Ye.isMap,Ai=yi?ke(yi):function(t){return y(t)&&"[object Map]"==Zo(t)};var bi=Ye&&Ye.isSet,mi=bi?ke(bi):function(t){return y(t)&&"[object Set]"==Zo(t)},wi=1,ji=2,Zi=4,_i="[object Arguments]",Si="[object Function]",xi="[object GeneratorFunction]",Gi="[object Object]",Ki={};function Oi(t,e,n,r,o,a){var u,c=e&wi,s=e&ji,l=e&Zi;if(n&&(u=o?n(t,r,o,a):n(t)),void 0!==u)return u;if(!Z(t))return t;var f=i(t);if(f){if(u=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Eo.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return ar(t,u)}else{var g=Zo(t),p=g==Si||g==xi;if(xe(t))return nr(t,c);if(g==Gi||g==_i||p&&!o){if(u=s||p?{}:lr(t),!c)return s?function(t,e){return hr(t,Fo(t),e)}(t,function(t,e){return t&&hr(e,Cr(e),t)}(u,t)):function(t,e){return hr(t,io(t),e)}(t,function(t,e){return t&&hr(e,De(e),t)}(u,t))}else{if(!Ki[g])return o?t:{};u=vi(t,g,c)}}a||(a=new Fn);var h=a.get(t);if(h)return h;a.set(t,u),mi(t)?t.forEach((function(r){u.add(Oi(r,e,n,r,t,a))})):Ai(t)&&t.forEach((function(r,o){u.set(o,Oi(r,e,n,o,t,a))}));var d=f?void 0:(l?s?Mo:ao:s?Cr:De)(t);return Ie(d||t,(function(r,o){d&&(r=t[o=r]),pr(u,o,Oi(r,e,n,o,t,a))})),u}Ki[_i]=Ki["[object Array]"]=Ki["[object ArrayBuffer]"]=Ki["[object DataView]"]=Ki["[object Boolean]"]=Ki["[object Date]"]=Ki["[object Float32Array]"]=Ki["[object Float64Array]"]=Ki["[object Int8Array]"]=Ki["[object Int16Array]"]=Ki["[object Int32Array]"]=Ki["[object Map]"]=Ki["[object Number]"]=Ki[Gi]=Ki["[object RegExp]"]=Ki["[object Set]"]=Ki["[object String]"]=Ki["[object Symbol]"]=Ki["[object Uint8Array]"]=Ki["[object Uint8ClampedArray]"]=Ki["[object Uint16Array]"]=Ki["[object Uint32Array]"]=!0,Ki["[object Error]"]=Ki[Si]=Ki["[object WeakMap]"]=!1;var Wi=1,Bi=4;function Ti(t){return Oi(t,Wi|Bi)}var ki="[object String]";var Xi=Ho("length"),Ni=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Vi="\\ud800-\\udfff",Yi="["+Vi+"]",Li="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ui="\\ud83c[\\udffb-\\udfff]",Hi="[^"+Vi+"]",Ji="(?:\\ud83c[\\udde6-\\uddff]){2}",$i="[\\ud800-\\udbff][\\udc00-\\udfff]",Ri="(?:"+Li+"|"+Ui+")"+"?",zi="[\\ufe0e\\ufe0f]?",Fi=zi+Ri+("(?:\\u200d(?:"+[Hi,Ji,$i].join("|")+")"+zi+Ri+")*"),Mi="(?:"+[Hi+Li+"?",Li,Ji,$i,Yi].join("|")+")",Ei=RegExp(Ui+"(?="+Ui+")|"+Mi+Fi,"g");function Pi(t){return function(t){return Ni.test(t)}(t)?function(t){for(var e=Ei.lastIndex=0;Ei.test(t);)++e;return e}(t):Xi(t)}var Di="[object Map]",Qi="[object Set]";function qi(t){if(null==t)return 0;if(Pe(t))return"string"==typeof(e=t)||!i(e)&&y(e)&&v(e)==ki?Pi(t):t.length;var e,n=Zo(t);return n==Di||n==Qi?t.size:Ee(t).length}function ta(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=le(),n={},r=null,o=At(t,"timeAlive");Pt(o)||(o=1e4),o=Et(o);let i=At(t,"timeDetect");return Pt(i)||(i=50),i=Et(i),e.trigger=function(t,a){Lt(t)?(Un(n,t)||setTimeout((()=>{e.emit("message",{eventName:"enter",key:t,data:a,now:qi(n)})}),1),n[t]={data:a,time:Date.now()},null===r&&(r=setInterval((()=>{en(n,((t,r)=>{if(Date.now()-t.time>o){let t=Ti(n[r]);delete n[r],e.emit("message",{eventName:"leave",key:r,data:t.data,now:qi(n)})}})),he(n)||(clearInterval(r),r=null)}),i))):console.log("trigger need key")},e.get=function(){let t=[];return en(n,((e,n)=>{t.push({key:n,data:e.data})})),t=Ti(t),t},e}function ea(t){let e={};if(he(t)||(console.log("instWConverServer is not an effective object, and set instWConverServer to an EventEmitter"),t=le()),!Un(t,"emit"))throw new Error("instWConverServer is not an EventEmitter");let n=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];setTimeout((()=>{t.emit(e,...r)}),1)},r=ta(),o=setInterval((()=>{let t=r.get(),n=(a="key",(i(o=t)?lt:Ro)(o,$o(a)));var o,a;let u={};en(n,(t=>{u[t]=At(e,t,[])})),e=u}),1e3);r.on("message",(function(t){let{eventName:e,key:r,data:o,now:i}=t;"enter"===e?n("clientEnter",r,o):"leave"===e&&n("clientLeave",r,o),n("clientChange",i)})),t.on("execute",(function(t,o,i){if("[sys:polling]"===t)try{let t=At(o,"clientId",""),n=At(e,t,[]);n=Ti(n),e[t]=[],r.trigger(t,o),i.resolve(n)}catch(t){n("error",t),i.reject("[sys:polling] error")}}));return t.getClients=r.get,t.getMessages=()=>Ti(e),t.broadcast=t=>{if(!he(e))return;let n={};en(e,((e,r)=>{e.push({mode:"broadcast",data:t}),n[r]=e})),e=n},t.clearBroadcast=()=>{clearInterval(o)},t}let na=(t,e)=>{let n={};return en(t,(t=>{let r=t,o=At(e,t,"");Lt(o)&&(n[r]=o)})),n};function ra(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!he(t))throw new Error("invalid instWConverServer");if(0===qi(e))return t;if(!he(n))return t;let o=At(r,"genTag");jt(o)||(o=()=>Zt()+"|"+qt(6));let i={};return en(e,(t=>{i[t]=o()})),t.initTableTags(i,"useInputOnly"),en(e,(e=>{let r=n[e];if(!r)throw new Error(`invalid kpOrm[${e}]`);try{r.on("change",(()=>{t.updateTableTag(e)}))}catch(t){throw new Error(`kpOrm[${e}] can not listen to change events`)}})),t.on("changeTableTags",(n=>{t.broadcast({mode:"syncKpTable",data:na(e,n)})})),t}function oa(t){return t!=t}function ia(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,oa,n)}function aa(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}var ua=Array.prototype.splice;function ca(t,e){return t&&t.length&&e&&e.length?function(t,e,n,r){var o=r?aa:ia,i=-1,a=e.length,u=t;for(t===e&&(e=ar(e)),n&&(u=lt(t,ke(n)));++i<a;)for(var c=0,s=e[i],l=n?n(s):s;(c=o(u,l,c,r))>-1;)u!==t&&ua.call(u,c,1),ua.call(t,c,1);return t}(t,e):t}let sa=function(t){if(!jt(t))throw new Error("fn is not a function");return function(){let e=fe(),n=null,r=null;try{n=t.apply(this,arguments)}catch(t){r=t}return null!==r?e.resolve({state:"error",msg:r}):ge(n)?n.then((t=>{e.resolve({state:"success",msg:t})})).catch((t=>{"cancelled"===At(t,"reason")?e.resolve({state:"cancelled",msg:""}):e.resolve({state:"error",msg:t})})):e.resolve({state:"success",msg:n}),e}};function la(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!he(t))throw new Error("invalid instWConverServer");let n=At(e,"getUserIdByToken",null);jt(n)||(n=async()=>"");let r=At(e,"useDbOrm",null);ue(r)||(r=!1);let o=null;if(r&&(o=At(e,"operOrm",null),!jt(o)))throw new Error("invalid opt.operOrm when useDbOrm=true");let i=[];if(r&&(i=At(e,"tableNames",null),!te(i)))throw new Error("invalid opt.tableNames when useDbOrm=true");let a=[];r&&(a=At(e,"methods",null),te(a)||(a=["select","insert","save","del"]));let u=At(e,"kpFunExt",null);let c={};async function s(t,e,r){let o="";if(!Un(e,"__sysToken__"))return r.resolve({state:"error",msg:"invalid token"}),r;if(o=function(t){if(!Lt(t)&&!Ht(t)&&!b(t))return"";let e="";try{e=String(t)}catch(t){}try{e=t.toString()}catch(t){}return e}(e.__sysToken__),!Un(e,"__sysInputArgs__"))return r.resolve({state:"error",msg:"invalid input"}),r;e=e.__sysInputArgs__;let i="";if(i=n(o),ge(i)&&(i=await i),Lt(i)||(i=""),"[sys:getFuncList]"===t){let t=De(c);t=function(t,e){if(!ie(t))return[];if((ne(e)||Ht(e)||Yt(e)||ue(e))&&(e=[e]),!ie(e))return t;let n=Ti(t);return ca(n,e),n}(t,"[sys:getTableTags]");let e={state:"success",msg:t};return r.resolve(e),r}if(!Un(c,t))return r.resolve({state:"error",msg:`invalid func[${t}]`}),r;let a=c[t];try{let t=await sa(a)(i,...e);r.resolve(t)}catch(e){r.resolve({state:"error",msg:`call func[${t}] has an error: ${e.message}`})}return r}return r&&(i=Ti(i),c=function(t,e,n){let r={};return en(t,(t=>{en(e,(e=>{r[`${t}.${e}`]=async function(r,o){return await n(r,t,e,o)}}))})),r}(i,a,o)),he(u)&&en(u,((t,e)=>{c[e]=t})),t.on("execute",(async function(e,n,r){await s(e,n,r).catch((n=>{t.emit("error",n),r.resolve({state:"error",msg:`execFun func[${e}] has an error: ${n.message}`})}))})),t}function fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ga(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fa(Object(n),!0).forEach((function(e){Ln(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(he(t)||(console.log("instWConverServer is not an effective object, and set instWConverServer to an EventEmitter"),t=le()),!Un(t,"emit"))throw new Error("instWConverServer is not an EventEmitter");let n=At(e,"fpTableTags",null);Lt(n)||(n="./tableTags.json");let r=At(e,"genTag");jt(r)||(r=()=>Zt()+"|"+qt(6)),t=new ea(t=new Gr(t,{fpTableTags:n,genTag:r}));let o=At(e,"useDbOrm",null);ue(o)||(o=!0);let i=At(e,"kpOrm",null),a=At(e,"operOrm",null),u=At(e,"tableNamesExec",null),c=At(e,"methodsExec",null),s=At(e,"tableNamesSync",null),l=At(e,"getUserIdByToken",null),f=At(e,"kpFunExt",null);if(he(f)||(f={}),f=ga(ga({},f),{},{"[sys:getTableTags]":()=>{let e=t.getTableTags();return{mode:"syncKpTable",data:na(s,e)}}}),t=new la(t,{getUserIdByToken:l,useDbOrm:o,operOrm:a,tableNames:u,methods:c,kpFunExt:f}),o){if(!ne(i))return t.emit("error","invalid opt.kpOrm when useDbOrm=true"),t;t=new ra(t,s,i,{genTag:r})}return t}return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=le(),o=null,i=null,a=At(n,"port");$t(a)||(a=8080);let u=At(n,"corsOrigins",[]);ie(u)||(u=["http://localhost"]);let c=At(n,"useInert");ue(c)||(c=!0);let s=At(n,"pathStaticFiles");Lt(s)||(s="dist");let l=At(n,"apis");ie(l)||(l=[]);let f=At(n,"verifyConn");jt(f)||(f=()=>!0);let g=At(n,"getUserIdByToken",null),p=At(n,"useDbOrm",null);ue(p)||(p=!0);let h=At(n,"kpOrm",null),d=At(n,"operOrm",null),I=At(n,"tableNamesExec",null),C=At(n,"methodsExec",null),v=At(n,"tableNamesSync",null),y=At(n,"kpFunExt",null),A=At(n,"fnTableTags",null),b=At(n,"genTag");jt(b)||(b=()=>Zt()+"|"+qt(6));let m=At(n,"showLog");return ue(m)||(m=!0),(async()=>{await(async()=>{o=new t.Server({port:a,routes:{timeout:{server:!1,socket:!1},cors:{origin:u,credentials:!1}}}),c&&await o.register(e);let n=[];c&&(n=[{method:"GET",path:"/{file*}",handler:{directory:{path:`${s}/`}}}]),n=[...n,...l],o.route(n)})(),await(async()=>{i=new Nn({serverHapi:o,verifyConn:f}),i.on("open",(function(){m&&console.log(`Server[port:${a}]: open`)})),i.on("clientChange",(function(t){m&&console.log(`Server[port:${a}]: now clients: ${t}`)}))})(),await(async()=>{i=new pa(i,{getUserIdByToken:g,useDbOrm:p,kpOrm:h,operOrm:d,tableNamesExec:I,tableNamesSync:v,methodsExec:C,kpFunExt:y,fnTableTags:A,genTag:b}),i.on("error",(t=>{r.emit("error",t)}))})(),await o.start(),m&&console.log(`Server running at: ${o.info.uri}`)})().catch((t=>{r.emit("error",t)})),process.on("unhandledRejection",(t=>{console.log("unhandledRejection",t),r.emit("error",{mode:"unhandledRejection",err:t})})),process.on("uncaughtException",(t=>{console.log("uncaughtException",t),r.emit("error",{mode:"uncaughtException",err:t})})),r.getServer=async()=>(await pe((()=>null!==o)),o),r.getInstWConverServer=async()=>(await pe((()=>null!==i)),i),r}}));
//# sourceMappingURL=w-serv-hapi-server.umd.js.map
